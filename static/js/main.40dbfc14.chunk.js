(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2QK0-",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__123Bk"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__uPdel",modal:"Modal_modal__2n0zs"}},23:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2lo9v"}},27:function(e,t,a){e.exports={button:"Button_button__2Ce79"}},28:function(e,t,a){e.exports={app:"App_app__1kX79"}},35:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__34c-g",searchForm:"Searchbar_searchForm__14gj9",searchFormButton:"Searchbar_searchFormButton__3zFvC",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__3cTaL",searchFormInput:"Searchbar_searchFormInput__1WEpu"}},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),s=(a(35),a(13)),i=a(4),l=(a(36),a(22)),u=a.n(l),m=a(23),h=a.n(m),b=a(11),j=a.n(b),g=a(1),d=function(e){var t=e.image,a=e.tags,n=e.largeImageURL,c=e.onClickModal;return Object(g.jsx)("li",{className:j.a.imageGalleryItemImage,children:Object(g.jsx)("img",{className:j.a.imageGalleryItemImage,src:t,alt:a,onClick:function(){return c(n)}})})},f=function(e){var t=e.images,a=e.onImgClick;return Object(g.jsx)("ul",{className:h.a.imageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(g.jsx)(d,{image:n,tags:c,largeImageURL:r,onClickModal:a},t)}))})},p=a(24),O=a(25),y=a(30),_=a(29),v=a(5),x=a.n(v),I=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(O.a)(a,[{key:"render",value:function(){return Object(g.jsx)("header",{className:x.a.searchbar,children:Object(g.jsxs)("form",{onSubmit:this.handleSubmit,className:x.a.searchForm,children:[Object(g.jsx)("button",{type:"submit",className:x.a.searchFormButton,children:Object(g.jsx)("span",{className:x.a.searchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:x.a.searchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:this.state.query,onChange:this.handleChange})]})})}}]),a}(n.Component),S=a(26),F=a.n(S),k=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,r=e.authorization,o=void 0===r?"21961904-37dea9a1bda711bd2751c0404":r;return F.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(c,"&key=").concat(o,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},C=a(27),w=a.n(C),L=function(e){var t=e.onClick;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("button",{type:"button",onClick:t,className:w.a.button,children:"Load more"})})},G=a(12),N=a.n(G),B=document.querySelector("#modal-root");function E(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.key&&a()};return Object(r.createPortal)(Object(g.jsx)("div",{className:N.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(g.jsx)("div",{className:N.a.modal,children:t})}),B)}var q=a(28),T=a.n(q),P=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),l=o[0],m=o[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),j=b[0],d=b[1],p=Object(n.useState)(!1),O=Object(i.a)(p,2),y=O[0],_=O[1],v=Object(n.useState)(null),x=Object(i.a)(v,2),S=x[0],F=x[1],C=Object(n.useState)(""),w=Object(i.a)(C,2),G=w[0],N=w[1],B=Object(n.useState)(!1),q=Object(i.a)(B,2),P=q[0],M=q[1],z=function(){var e={searchQuery:j,currentPage:l};_(!0),k(e).then((function(e){c([].concat(Object(s.a)(a),Object(s.a)(e))),m(l+1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return F(e)})).finally((function(){return _(!1)}))};Object(n.useEffect)((function(){""!==j&&z()}),[j]);var R=a.length>0&&!y;return Object(g.jsxs)("div",{className:T.a.app,children:[S&&Object(g.jsx)("h1",{children:"\u041e\u0439 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(g.jsx)(I,{onSubmit:function(e){d(e),m(1),c([]),F(null)}}),Object(g.jsx)(f,{images:a,onImgClick:function(e){M(!0),N(e)}}),P&&Object(g.jsx)(E,{onClose:function(){M(!1),N("")},children:Object(g.jsx)("img",{src:G,alt:""})}),y&&Object(g.jsx)(u.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),R&&Object(g.jsx)(L,{onClick:z})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root")),M()}},[[77,1,2]]]);
//# sourceMappingURL=main.40dbfc14.chunk.js.map