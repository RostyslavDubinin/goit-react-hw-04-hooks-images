{"version":3,"sources":["components/ImageGalleryItem.module.css","components/Modal.module.css","components/ImageGallery.module.css","components/Button.module.css","App.module.css","components/Searchbar.module.css","components/ImageGalleryItem.js","components/ImageGallery.js","components/Searchbar.js","components/pixabay-api.js","components/Button.js","components/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","ImageGalleryItem","image","tags","largeImageURL","onClickModal","className","styles","imageGalleryItemImage","src","alt","onClick","ImageGallery","images","onImgClick","imageGallery","map","id","webformatURL","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","searchbar","this","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autocomplete","autofocus","placeholder","onChange","Component","searchQuery","currentPage","authorization","axios","get","then","response","data","hits","Button","button","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","key","createPortal","overlay","event","target","modal","App","useState","setImages","setCurrentPage","setSearchQuery","isLoading","setIsLoading","error","setError","imageURL","setImageURL","showModal","setShowModal","fetchImages","options","imagesApi","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","shouldRenderLoadMoreButton","length","app","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.40dbfc14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2QK0-\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__123Bk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__uPdel\",\"modal\":\"Modal_modal__2n0zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2lo9v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Ce79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__34c-g\",\"searchForm\":\"Searchbar_searchForm__14gj9\",\"searchFormButton\":\"Searchbar_searchFormButton__3zFvC\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3cTaL\",\"searchFormInput\":\"Searchbar_searchFormInput__1WEpu\"};","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ image, tags, largeImageURL, onClickModal }) => {\n  return (\n    <li className={styles.imageGalleryItemImage}>\n      <img\n        className={styles.imageGalleryItemImage}\n        src={image}\n        alt={tags}\n        onClick={() => onClickModal(largeImageURL)}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onImgClick }) => (\n  <ul className={styles.imageGallery}>\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        image={webformatURL}\n        tags={tags}\n        largeImageURL={largeImageURL}\n        onClickModal={onImgClick}\n      />\n    ))}\n  </ul>\n);\n\n\n\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = { query: \"\" };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.searchForm}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from \"axios\";\n\nconst fetchImages = ({\n  searchQuery = \"\",\n  currentPage = 1,\n  authorization = \"21961904-37dea9a1bda711bd2751c0404\",\n}) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${authorization}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <>\n    <button type=\"button\" onClick={onClick} className={styles.button}>\n      Load more\n    </button>\n  </>\n);\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.overlay} onClick={handleBackdropClick}>\n      <div className={styles.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Searchbar from \"./components/Searchbar\";\nimport imagesApi from \"./components/pixabay-api\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport styles from \"./App.module.css\";\n\nconst App = () => {\n  \n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [imageURL, setImageURL] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n\n  const fetchImages = () => {\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    setIsLoading(true);\n\n    imagesApi\n      .fetchImages(options)\n      .then((hits) => {\n        setImages([...images,...hits]);\n        setCurrentPage(currentPage + 1);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => setError(error))\n      .finally(() => setIsLoading(false));\n  };\n\n\n  useEffect(() => {\n    if (searchQuery === \"\") {\n      return;\n    }\n\n    fetchImages();\n  }, [searchQuery]);\n\n  const toggleModal = () => {\n    setShowModal(false);\n    setImageURL('');\n  };\n\n  const openModal = largeImageURL => {\n    setShowModal(true);\n    setImageURL(largeImageURL);\n  };\n\n  const onChangeQuery = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setImages([]);\n    setError(null);\n  };\n\n  const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n  \n    return (\n      <div className={styles.app}>\n        {error && <h1>Ой ошибка</h1>}\n\n        <Searchbar onSubmit={onChangeQuery} />\n\n        <ImageGallery images={images} onImgClick={openModal} />\n\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={imageURL} alt=\"\" />\n          </Modal>\n        )}\n        {isLoading && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n\n        {shouldRenderLoadMoreButton && <Button onClick={fetchImages} />}\n      </div>\n    );\n  \n};\n\nexport default App;\n\n\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}